<style lang="less">
  .bg {
    display: none;
    position: absolute;
    top: 0%;
    left: 0%;
    width: 100%;
    height: 100%;
    background-color: black;
    z-index: 1001;
    -moz-opacity: 0.7;
    opacity: 0.70;
    filter: alpha(opacity=70);
  }
  .show {
    display: none;
    text-align: center;
    position: absolute;
    top: 45%;
    width: 100%;
    height: 40%;
    padding: 8px auto 8px;
    border: 2px solid #e8e9f7;
    border-radius: 2px;
    background-color: white;
    z-index: 1002;
    overflow: auto;
  }
  .txt {
    margin-top: 20rpx;
    font-size: 28rpx;
    color: royalblue
  }
</style>


<template>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>
    <button bindtap="showview">Show</button>


    <view class="bg" bindtap='hideview' style='display:{{display}}'></view>
    <view class="show" style='display:{{display}}'>申请成功
      <view class='txt'>您的密码为:123456</view>
    </view>
</template>


<script>
  import wepy from "wepy";
  export default class AfterRecord extends wepy.page {
    config = {
      navigationBarTitleText: "Grcoin"
    };
    components = {};
    mixins = [];
    data = {
      display: ''
    };
    computed = {
      now() {
        return +new Date();
      }
    };
    methods = {
      hideview() {
        this.display = 'none'
      },
      showview() {
        this.display = 'block'
      },
      tap() {
        wepy.request({
          url: 'http://127.0.0.1:7001/api/user', // + "5ab45a594c39050ddcb6eb83"
          header: {
            "authorization": "eyJhbGciOiJIUzI1NiJ9.eyJuaWNrTmFtZSI6IkcuIiwiZ2VuZGVyIjoxLCJsYW5ndWFnZSI6InpoX0NOIiwiY2l0eSI6IiIsInByb3ZpbmNlIjoiIiwiY291bnRyeSI6Ik9tYW4iLCJhdmF0YXJVcmwiOiJodHRwczovL3d4LnFsb2dvLmNuL21tb3Blbi92aV8zMi9RZzdIaWFCcGNhZG1OdGZzNXNlZllTaWJhWmt3Qk44eHJjN2FBT1BadW0ydHB2VWswbHgwYjU0aWJ0Y0NMTDFxRXFpYjhVZmo3bWg0VDJ5aWJlaWNpY3JTMHB6b0EvMCJ9TW04MVE3QmFWdVhDQmpuSUZBSU5TQT09.0wJ-o1R3FP7TdCGyaqGbDDTKf07pAK8248C__2Qxa2"
          },
          dataType: 'json',
          data: {
            "unionId": "ssss",
            "nickname": "nickname1111",
            "avatarUrl": "avatar1111",
          },
          method: 'POST',
          success(res) {
            if (res.data.error) {
              wepy.showModal({
                title: '有错误: ',
                content: res.data.error
              })
            }
          }
        })
      }
    };
    events = {};
    onLoad() {}
  }
</script>
